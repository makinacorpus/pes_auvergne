<!DOCTYPE html>
<html>
<head>
    <title>API - Documentation</title>
    <meta charset="utf-8" />
    <style type="text/css" media="screen">
    h2 {
        background-color: #CCC;
        border: solid 1px #AAA;
        border-left: none;
        border-right: none;
        padding: .2em;
        text-align: center;
    }
    h3 {
        background-color: #EEE;
        border: solid 1px #CCC;
        border-left: none;
        border-right: none;
        padding: .2em;
    }
    </style>
</head>
<body>
    <section>
        <h2>API Key</h2>
        <p>
        Create and update requests (HTTP PUT) require to provide an API key in the request
        url.
        </p>
        <p>
        Exemple:
        </p>
        <pre>
            PUT /api/organizations/MRjCUntUYHKRwcdaL6YVUh?api_key=MyPrivateKey
        </pre>
    </section>
    <section>
        <h2>Organizations</h2>
        <h3>Organization structure</h3>
        <pre>
        {
            "acronym": "test",
            "annual_revenue": 42,
            "birth": "2013-01-01",
            "contacts": [
                {
                    "content": "00.00.00.00.00",
                    "uuid": "33746d9321fd4d6db5449950878510ed" 
                },
                …
            ],
            "legal_status": "legal_status_slug",
            "members": [
                {
                    "person": "9b9eec5c5d4a462790b8f596adc0f33d",
                    "role": "462790b8f596adc0f33d9b9eec5c5d4a",
                }
                …
            ],
            "pref_address": "0f147020efb74d2d8729242c8d2f7e03",
            "pref_email": "9b9eec5c5d4a462790b8f596adc0f33d",
            "pref_phone": "33746d9321fd4d6db5449950878510ed",
            "short_description": "Lorem ipsum…",
            "testimony": "Lorem ipsum…",
            "title": "Test Organization",
            "transverse_themes": [
                3, …
            ],
            "uuid": "6c7b266e58174207add94cb64d3f8a5f",
            "web": "http://test.local",
            "workforce": 4.2
        }
        </pre>
        <p>Where:
            <dl>
                <dt><b>members</b></dt>
                <dd>
                    A list of existing person/role pairs.
                    They must exist when the organization is created.
                </dd>
                <dt><b>pref_address</b></dt>
                <dd>
                    An existing person/organization contact or an owned contact.
                </dd>
                <dt><b>pref_email</b></dt>
                <dd>
                    An existing person/organization contact or an owned contact.
                </dd>
            </dl>
        </p>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./organizations/">/api/organizations/</a></b></dt>
            <dd>
                <p>List all organizations.</p>
            </dd>
            <dt><b>GET /api/organizations/:uuid</b></dt>
            <dd>
                <p>Get an organization by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/organizations/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an organization by its uuid.</p>
            </dd>
            <dt><b>PUT /api/organizations/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update an organization.</p>
            </dd>
        </dl>
    </section>
    <section>
        <h2>Persons</h2>
        <h3>Persons structure</h3>
        <pre>
        {
            "first_name": "First Name",
            "last_name": "Last Name",
            "contacts": [
                {
                    "content": "00.00.00.00.00",
                    "uuid": "33746d9321fd4d6db5449950878510ed" 
                },
                …
            ],
            "pref_email": "9b9eec5c5d4a462790b8f596adc0f33d",
            "uuid": "6c7b266e58174207add94cb64d3f8a5f",
        }
        </pre>
        <p>Where:
            <dl>
                <dt><b>pref_email</b></dt>
                <dd>
                    An existing person/organization contact or an owned contact.
                </dd>
            </dl>
        </p>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./persons/">/api/persons/</a></b><dt>
            <dd>
                <p>List all persons.</p>
            </dd>
            <dt><b>GET /api/persons/:uuid</b><dt>
            <dd>
                <p>Get a person by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/persons/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an person by its uuid.</p>
            </dd>
            <dt><b>PUT /api/persons/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update a person.</p>
            </dd>
        </dl>
    </section>
    <section>
        <h2>Transverse Themes</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./transverse_themes/">/api/transverse_themes/</a></b><dt>
            <dd>
                <p>List all transverse themes.</p>
            </dd>
        </dl>
        <h3>Transverse Themes structure</h3>
        <pre>
        {
            "id": 1,
            "name": "Theme Name"
        }
        </pre>
    </section>
    <section>
        <h2>Roles</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./roles/">/api/roles/</a></b><dt>
            <dd>
                <p>List all roles.</p>
            </dd>
        </dl>
        <h3>Roles structure</h3>
        <pre>
        {
            "uuid": "DhkrWCaL6YVmrJcuNTuYUh",
            "label": "Role Label"
            "slug": "role-label",
        }
        </pre>
    </section>
    <section>
        <h2>Legal Statuses</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./legal_statuses/">/api/legal_statuses/</a></b><dt>
            <dd>
                <p>List all legal statuses.</p>
            </dd>
        </dl>
        <h3>Legal Statuses structure</h3>
        <pre>
        {
            "label": "Legal Status Label"
            "slug": 'legal-status-label',
        }
        </pre>
    </section>
    <section>
        <h2>Activity Nomenclatures</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./activity_nomenclatures/">/api/activity_nomenclatures/</a></b><dt>
            <dd>
                <p>List all activity nomenclatures.</p>
            </dd>
        </dl>
        <h3>Activity Nomenclature structure</h3>
        <pre>
        {
            "id": 42,
            "label": "Activity nomenclature label",
        }
        </pre>
    </section>
    <section>
        <h2>Calendar</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./calendars/">/api/calendars/</a></b><dt>
            <dd>
                <p>List all calendars.</p>
            </dd>
            <dt><b>GET /api/calendars/:uuid</b></dt>
            <dd>
                <p>Get an calendar by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/calendars/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an calendar by its uuid.</p>
            </dd>
            <dt><b>PUT /api/calendars/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update an calendar.</p>
            </dd>
        </dl>
        <h3>Calendar structure</h3>
        <pre>
        {
            "uuid": "n4kuNHT94u4tUMcnXpPY2",
            "title": "Calendar title",
            "description": "Calendar description",
        }
        </pre>
    </section>
    <section>
        <h2>Event Categories</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./event_categories/">/api/event_categories/</a></b><dt>
            <dd>
                <p>List all event categories.</p>
            </dd>
        </dl>
        <h3>Event category structure</h3>
        <pre>
        {
            "id": 42,
            "slug": "event-category-label",
            "label": "Event category label",
        }
        </pre>
    </section>
    <section>
        <h2>Events</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./events/">/api/events/</a></b><dt>
            <dd>
                <p>List all events.</p>
            </dd>
            <dt><b>GET /api/events/:uuid</b></dt>
            <dd>
                <p>Get an event by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/events/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an event by its uuid.</p>
            </dd>
            <dt><b>PUT /api/events/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update an event.</p>
            </dd>
        </dl>
        <h3>Event structure</h3>
        <pre>
        {
            "activity": 42,
            "calendar": "v29JAFRgurmahR9yfb49dd",
            "category": [
                "category-slug"
            ],
            "description": "description",
            "organization": "dRLgY2P9BNxvKybV7rdnCm",
            "organizations": [
                "4tUucuNHMnpP9X4kY2Tn4", …
            ],
            "other_organizations": "Other organizations",
            "source_info": "Source info",
            "title": "Title",
            "transverse_themes": [
                3, …
            ],
            "uuid": "uNHMn4kY2TucpP9n44tUX",
            "zoom_on": false
        }
        </pre>
    </section>
    <section>
        <h2>Contact Medium</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./contact_medium/">/api/contact_medium/</a></b><dt>
            <dd>
                <p>List all contact medium.</p>
            </dd>
        </dl>
        <h3>Contact Medium structure</h3>
        <pre>
        {
            "id": 42,
            "label": "Contact Medium Label",
        }
        </pre>
    </section>
    <section>
        <h2>Products</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./products/">/api/products/</a></b><dt>
            <dd>
                <p>List all products.</p>
            </dd>
            <dt><b>GET /api/products/:uuid</b></dt>
            <dd>
                <p>Get an product by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/products/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an product by its uuid.</p>
            </dd>
            <dt><b>PUT /api/products/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update a product.</p>
            </dd>
        </dl>
        <h3>Product structure</h3>
        <pre>
        {
            "description": "Product description",
            "organization": "b6873hbE2RGmLvTxdecExZ",
            "title": "Product Title",
            "uuid": "gHgofDZAgCgWqYDTz84cPa"
        }
        </pre>
    </section>
    <section>
        <h2 id=exchange-methods>Exchange Methods</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./exchange_methods/">/api/exchange_methods/</a></b><dt>
            <dd>
                <p>List all exchange methods.</p>
            </dd>
        </dl>
        <h3>Exchange Methods structure</h3>
        <pre>
        {
            etypes: [
                "PROD",
                "SERVE"
            ],
            id: 1,
            label: "Euros"
        }
        </pre>
        etype: See <a href="#exchange-types">Exchange Types</a>
    </section>
    <section>
        <h2>Exchanges</h2>
        <h3>End Points</h3>
        <dl>
            <dt><b>GET <a href="./exchanges/">/api/exchanges/</a></b><dt>
            <dd>
                <p>List all exchanges.</p>
            </dd>
            <dt><b>GET /api/exchanges/:uuid</b></dt>
            <dd>
                <p>Get an exchange by its uuid.</p>
            </dd>
            <dt><b>DELETE /api/exchanges/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Delete an exchange by its uuid.</p>
            </dd>
            <dt><b>PUT /api/exchanges/:uuid?api_key=:api_key</b></dt>
            <dd>
                <p>Create or update an exchange.</p>
            </dd>
        </dl>
        <h3>Exchange structure</h3>
        <pre>
        {
            "activity": 42,
            "description": "Exchange description",
            "etype": "COOP",
            "eway": "NEED",
            "expiration": "2013-11-30",
            "methods": [
                4,
                2,
            ],
            "organization": "73hbecE2RGmLvdb68TxExZ",
            "permanent": false,
            "person": "yc8UQRsFsuSR45aidXX2ka",
            "products": ["CgHTzfDgoZAggWqYD84cPa"],
            "title": "Exchanges title",
            "uuid": "ZAgDTzfD84cPagWqCgHgoY"
        }
        </pre>
        methods: See <a href=#exchange-methods>Exchange Methods</a><br>
        eway: See <a href=#exchange-ways>Exchange Ways</a><br>
        etype: See <a href=#exchange-types>Exchange TYPES</a>
        <h3 id=exchange-ways>Exchange Ways</h3>
        <dl>
        {% for eway_const, eway_label in exchange_ways %}
            <dt>{{ eway_const }}</dt><dd>{{ eway_label }}</dd>
        {% endfor %}
        </dl>
        <h3 id=exchange-types>Exchange Types</h3>
        <dl>
        {% for etype_const, etype_label in exchange_types %}
            <dt>{{ etype_const }}</dt><dd>{{ etype_label }}</dd>
        {% endfor %}
        </dl>
    </section>
</body>
</html>
